<p class="my-4">Create a public link for sharing.</p>
<form action="<%= dialogFormAction %>" method="post" class="flex flex-col">
  <label for="durations">Duration:</label>
  <div
    id="durations"
    class="mt-2 inline-flex divide-x divide-gray-300 overflow-hidden rounded border border-gray-300 bg-white shadow-sm"
    onclick="
        if(event.target.tagName !== 'BUTTON')
            return; 

        const pad = (n) => n.toString().padStart(2, '0');

        const d =  new Date(new Date().getTime() + +event.target.dataset['val'] * 60 * 60 * 1000);
        document.getElementById('linkExpireAt').value =
        `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}`;
    "
  >
    <button
      type="button"
      data-val="1"
      class="px-3 py-1.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 hover:text-gray-900 focus:relative"
    >
      An hour
    </button>

    <button
      type="button"
      data-val="6"
      class="px-3 py-1.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 hover:text-gray-900 focus:relative"
    >
      6 hours
    </button>

    <button
      type="button"
      data-val="24"
      class="px-3 py-1.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 hover:text-gray-900 focus:relative"
    >
      A day
    </button>
    <button
      type="button"
      data-val="<%= 24 * 7 %>"
      class="px-3 py-1.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 hover:text-gray-900 focus:relative"
    >
      A week
    </button>
    <button
      type="button"
      data-val="<%= 24 * 7 * 4 %>"
      class="px-3 py-1.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 hover:text-gray-900 focus:relative"
    >
      A month
    </button>
  </div>
  <p class="text-gray-500 text-sm mt-2">
    Link will expire after specified date
  </p>
  <input
    required
    name="linkExpireAt"
    id="linkExpireAt"
    type="datetime-local"
    class="border-gray-300"
  />
  <label class="mt-4" for="accessType">Access:</label>
  <select class="mt-2 border-gray-300" id="accessType" name="accessType">
    <option value="PREVIEW" selected>Preview</option>
    <option value="PREVIEW_DOWNLOAD">Preview and Download</option>
  </select>

  <div class="py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2">
    <button
      type="submit"
      class="mt-3 inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700 sm:mt-0 sm:w-auto"
    >
      Create link
    </button>
    <button
      onclick="document.getElementById('<%= dialogId %>').close();"
      type="button"
      class="mt-3 inline-flex w-full justify-center rounded-md bg-red-500 px-3 py-2 text-sm font-semibold text-white hover:bg-red-700 sm:mt-0 sm:w-auto"
    >
      Cancel
    </button>
  </div>
</form>
